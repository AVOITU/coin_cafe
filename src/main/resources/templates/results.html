<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Stats – Coin Café</title>

    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css">
    <!-- AdminLTE -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">

    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/pages/results.css">

    <!-- jQuery / Bootstrap / AdminLTE -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
    <!-- Chart.js v4 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<!--    <script th:inline="javascript"> window.RESULTSDTO = /*[[${resultsDto}]]*/ {}; </script> &lt;!&ndash;    ne pas toucher cette ligne &ndash;&gt;-->
    <script src="../static/javascript/results.js" defer></script>
</head>
<body class="hold-transition layout-top-nav">
<div class="wrapper">
    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light align-items-center" id="nav-sondage">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="/img/logo_ravy.webp" alt="" class="logo">
                <span class="brand-text">Ravy – Statistiques du sondage</span>
            </a>
        </div>
    </nav>

    <!-- Content Wrapper -->
    <div class="content-wrapper">
        <div class="content-header">
            <div class="container">
                <div class="row mb-2">
                    <div class="col-12">
                        <h1 class="m-0">Tableau de bord</h1>
                        <p class="text-muted mb-0" id="exp"> Synthèse des réponses du sondage de satisfaction du coin café </p>
                    </div>
                </div>
            </div>
        </div>

        <section class="content">
            <div class="container">
                <div class="row">
                    <!-- Gauge note globale -->
                    <div class="col-md-4">
                        <div class="card card-info">
                            <div class="card-header"><h3 class="card-title">Note globale</h3></div>
                            <div class="card-body d-flex align-items-center justify-content-center">
                                <canvas id="gaugeChart" class="chart-sm"></canvas>
                            </div>
                            <div class="card-footer text-center">
                                <span id="globalRatingText" class="h5 mb-0"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Pie: répartition des notes -->
                    <div class="col-md-4">
                        <div class="card card-primary">
                            <div class="card-header"><h3 class="card-title">Répartition des scores en fonction de la note accordée</h3></div>
                            <div class="card-body"><canvas id="pieChart" class="chart-box"></canvas></div>
                            <div class="card-footer text-muted">1 à 5 sur l'ensemble des réponses.</div>
                        </div>
                    </div>

                    <!-- Line: progression dans le temps -->
                    <div class="col-md-4">
                        <div class="card card-success">
                            <div class="card-header"><h3 class="card-title">Évolution temporelle</h3></div>
                            <div class="card-body"><canvas id="lineChart" class="chart-box"></canvas></div>
                            <div class="card-footer text-muted">Moyenne globale par période </div>
                        </div>
                    </div>
                </div>

                <div class="row">

                    <!-- HBar: moyenne par question -->
                    <div class="col-md-6">
                        <div class="card card-secondary">
                            <div class="card-header"><h3 class="card-title">Moyenne par question</h3></div>
                            <div class="card-body"><canvas id="barQuestionChart" class="chart-box"></canvas></div>
                        </div>
                    </div>

                    <fieldset>
                        <legend> Votre conseiller IA </legend>
                        <p> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Commodi consectetur distinctio esse minus modi nam nihil, numquam quidem sit velit. Atque et, in laboriosam magnam minima perferendis quos rerum totam! </p>
                    </fieldset>

                </div>

            </div>
        </section>
    </div>

    <footer class="main-footer text-sm">
        <div class="container">
            <strong>&copy; <span id="year"></span> Ravy.</strong>
            <span class="float-right d-none d-sm-inline">AdminLTE 3 · Chart.js</span>
        </div>
    </footer>
</div>
</body>
</html>